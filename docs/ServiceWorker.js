"use strict";var staticCacheName="rr-files-v1",imagesCacheName="rr-images-v1",appCaches=[staticCacheName,imagesCacheName],cacheFiles=["/","manifest.json","browserconfig.xml","index.html","restaurant.html","js/app.min.js","js/index.min.js","js/restaurant.min.js","css/critical.min.css","css/index.min.css","css/restaurant.min.css"],cacheImages=["favicon.ico","mstile-70x70.png","mstile-150x150.png","mstile-310x150.png","mstile-310x310.png","img/1.jpg","img/2.jpg","img/3.jpg","img/4.jpg","img/5.jpg","img/6.jpg","img/7.jpg","img/8.jpg","img/9.jpg","img/10.jpg","img/android-chrome-64x64.png","img/android-chrome-128x128.png","img/android-chrome-192x192.png","img/android-chrome-256x256.png","img/android-chrome-512x512.png","img/apple-touch-icon-57x57.png","img/apple-touch-icon-76x76.png","img/apple-touch-icon-144x144.png","img/apple-touch-icon-152x152.png","img/apple-touch-icon.png","img/safari-pinned-tab.svg"];self.addEventListener("install",function(e){e.waitUntil(caches.open(staticCacheName).then(function(e){return e.addAll(cacheFiles)})),e.waitUntil(caches.open(imagesCacheName).then(function(e){return e.addAll(cacheImages)}))}),self.addEventListener("activate",function(e){self.clients.claim(),e.waitUntil(caches.keys().then(function(e){return Promise.all(e.filter(function(e){return e.startsWith("rr-")&&!appCaches.includes(e)}).map(function(e){return caches.delete(e)}))}))}),self.addEventListener("message",function(e){"skipWaiting"===e.data.action&&self.skipWaiting()}),self.addEventListener("fetch",function(e){var t=new URL(e.request.url).pathname,i=e.request.method.toUpperCase();"POST"===i||"PUT"===i||"DELETE"===i||t.startsWith("/restaurants")||t.startsWith("/reviews")||(t.match(".jpg")||t.match(".png")||t.match(".svg")||t.match(".ico")?e.respondWith(retrieveFile(imagesCacheName,e.request)):e.respondWith(retrieveFile(staticCacheName,e.request)))}),self.retrieveFile=function(e,t){return caches.open(e).then(function(e){return e.match(t).then(function(i){return i||fetch(t).then(function(i){return e.put(t,i.clone()),i})}).catch(function(i){if(new URL(t.url).href.match("id="))return e.match("restaurant.html")})})};